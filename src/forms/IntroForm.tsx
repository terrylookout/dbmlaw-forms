import { ReactElement, useEffect, useState } from "react";
import ModalBottomButtons from "../controls/ModalBottomButtons";
import { FormProps } from "../Helpers";

declare var bootstrap: any;

const IntroForm = (props: FormProps): ReactElement => {

    const [navigating, setNavigating] = useState(false);

    useEffect(() => {
        // eslint-disable-next-line
        if (!document.querySelector('.modal-backdrop')) {
            new bootstrap.Modal('#formModal').show();

            const modal = document.querySelector('#formModal');
            if (modal) {
                modal.addEventListener('hidden.bs.modal', () => {
                    props.dismissed();
                });
            }
        }
        // eslint-disable-next-line
    }, []);

    return (
        <div className='modal fade' id='formModal' tabIndex={-1} aria-labelledby='formModalLabel' aria-hidden='true'
            data-bs-backdrop='static' data-bs-keyboard='false'>
            <div className={`modal-dialog modal-lg modal-near-top modal-dialog-scrollable`}>
                <div className='modal-content'>
                    <div className='modal-header'>
                        <h5 className="modal-title">Start A New Real Estate File</h5>
                        <button type='button' className='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
                    </div>
                    <div className="modal-body">

                        <div className='row'>
                            <div className='col-auto p-3 ps-5' style={{
                                display: navigating ? 'none' : '',
                            }}>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    style={{
                                        height: '48px',
                                        width: '48px',
                                        fill: '#0d6efd',
                                    }}

                                    className="bi bi-exclamation-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                    <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z" />
                                </svg>

                            </div>

                            <div className='col' style={{
                                display: navigating ? 'none' : '',
                            }}>
                                <p>At this time the online file application is for <b>residential conveyancing</b> only.</p>
                                <p>Please contact our office directly at <a href="tel:1-604-939-8321">604 939 8321</a>
                                    &nbsp;for all other matters and we will gladly assist you.</p>

                            </div>

                            <div className='col' style={{
                                display: navigating ? '' : 'none',
                            }}>
                                <p className='text-center'>Please wait....</p>

                            </div>

                        </div>

                        <div className="row mt-5 mb-5" style={{
                            alignItems: 'center',
                        }}>

                            <div className='col-auto p-3 ps-5' style={{
                                display: navigating ? 'none' : '',
                            }}>
                                <div style={{
                                    width: '48px',
                                }}>
                                    <svg viewBox="0 0 318.3125 522.24994" xmlns="http://www.w3.org/2000/svg" height="48px" width="48px">
                                        <g transform="translate(-100.42 -50.062)">
                                            <path d="m252.2 456.3h21l8 95h-37l8-95z" fill="#c17d11" />
                                            <path d="m194.12 566.3 50-15h37l50 15v5h-137v-5z" fill="#c17d11" />
                                            <path d="m251.28 455.31-0.0625 0.90625-8 95-0.0937 1.0938h39.156l-0.0937-1.0938-8-95-0.0625-0.90625h-22.844zm1.8125 2h19.219l7.8125 93h-34.844l7.8125-93z" />
                                            <path d="m197.35 316.48-93.155 151.99 28.192-7.3543 18.386 17.16 25.74-20.837 21.122 29.343 15.65-23.214 23.425 20.106 29.281-21.332 17.16 19.612 26.174-21.691 27.758 29.046 30.449-26.966 22.063 24.514 2.4514-22.063 23.289 4.3081-87.026-152.62h-130.96z" fill="#73d216" />
                                            <path d="m196.36 314.73-0.5 0.84375-93.156 152-2.2812 3.6875 4.2188-1.0938 27.25-7.0938 17.688 16.5 1.125 1.0312 1.1562-0.96875 24.281-19.656 20.062 27.844 1.4688 2.0312 1.4062-2.0938 14.531-21.562 21.969 18.812 1.0312 0.90625 1.125-0.8125 27.969-20.406 16.125 18.406 1.125 1.2812 1.3125-1.0625 24.906-20.656 26.656 27.844 1.1562 1.2188 1.25-1.0938 29.188-25.812 20.875 23.219 2.5938 2.9062 0.4375-3.9062 2.25-20.188 21.438 3.9688 3.7188 0.6875-1.875-3.2812-87.031-152.59-0.5-0.90625h-132.97zm1.9688 3.5h128.97l84.656 148.47-19.594-3.625-1.8438-0.34375-0.21875 1.875-2 18.188-19.469-21.625-1.1562-1.2812-1.3125 1.1562-29.156 25.844-26.625-27.812-1.125-1.1875-1.25 1.0312-24.875 20.625-16.031-18.344-1.0312-1.2188-1.3125 0.96875-28.156 20.5-22.375-19.188-1.5-1.2812-1.0938 1.625-14.25 21.125-19.656-27.312-1.0625-1.5-1.4375 1.1562-24.594 19.906-17.25-16.125-0.6875-0.65625-0.9375 0.21875-24.031 6.2812 90.406-147.47z" />
                                            <path d="m224.32 222.55-66.189 114.77 24.514-11.032 30.643 19.612 30.643-20.837 35.546 30.643 22.063-24.514 19.612 13.483 25.74-20.837 17.16 12.257-66.189-113.54h-73.543z" fill="#73d216" />
                                            <path d="m223.3 220.82-0.5 0.875-66.188 114.75-2.7188 4.6875 4.9688-2.2188 23.656-10.656 29.812 19.125 1 0.625 0.9375-0.65625 29.562-20.094 34.5 29.781 1.3125 1.125 1.125-1.2812 21.031-23.375 18.375 12.625 1.0625 0.71875 1-0.8125 24.719-20 16.062 11.469 2.5312-2.2812-66.188-113.56-0.5-0.84375h-75.562zm2.0312 3.5h71.531l61.594 105.62-10.562-7.5312-1.0625-0.78125-1.0312 0.84375-24.719 20-18.562-12.719-1.25-0.875-1.0312 1.1562-20.906 23.219-34.25-29.531-1.0312-0.875-1.0938 0.78125-29.688 20.156-29.688-18.969-0.78125-0.5-0.875 0.375-19.594 8.8125 63-109.19z" />
                                            <path d="m261.09 113.01-71.092 121.35 24.514-8.5801 19.612 17.16 28.192-20.837 25.74 26.966 22.063-31.869 22.063 14.709-71.092-118.9z" fill="#73d216" />
                                            <path d="m261.08 109.57-1.5 2.5625-71.094 121.34-2.4062 4.125 4.5-1.5938 23.562-8.2188 18.844 16.469 1.0312 0.9375 1.1562-0.84375 26.938-19.906 24.688 25.844 1.4688 1.5312 1.2188-1.75 21.094-30.469 20.625 13.75 2.4688-2.3438-71.094-118.88-1.5-2.5625zm0.0312 6.9062 65.562 109.66-15.594-10.375-1.4062-0.96875-1 1.4062-20.844 30.094-24.25-25.406-1.0625-1.0938-1.25 0.90625-27.062 20-18.531-16.219-0.78125-0.6875-0.96875 0.34375-19.969 6.9688 67.156-114.62z" />
                                            <path d="m244.06 550.31-0.15625 0.0312-50 15-0.71875 0.21875v6.75h139v-6.75l-0.6875-0.21875-50-15-0.15625-0.0312h-37.281zm0.21875 2h36.844l49.062 14.719v3.2812h-135v-3.2812l49.094-14.719z" />
                                            <path d="m291.06 130.67-30.371-17.017-27.004 21.802 14.833-34.142-31.552-15.287 32.755 0.27371 3.1169-35.756 11.834 35.135 30.573-5.7473-25.756 20.692 21.572 30.048z" fill="#fce94f" />
                                            <path d="m254.25 50.062-2.9062 0.34375-3 34.406-31.375-0.28125-0.65625 2.8438 30.281 14.656-14.281 32.812 2.3125 1.7812 26.219-21.188 29.5 16.531 1.9375-2.1875-20.75-28.875 24.656-19.812-1.2188-2.625-29.281 5.5-11.438-33.906zm-0.53125 7.8125 9.5312 28.281 0.40625 1.25 1.2812-0.25 24.688-4.6562-21.062 16.969-1.125 0.875 0.84375 1.1562 17.656 24.562-24.5-13.719-0.90625-0.5-0.78125 0.65625-22.25 17.938 12.406-28.531 0.5625-1.3125-1.2812-0.625-25.562-12.375 26.094 0.21875h1.375l0.125-1.375 2.5-28.562z" />
                                            <path transform="translate(44.521 165.8)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#ef2929" />
                                            <path d="m157.83 420.89c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path transform="translate(112.24 108.86)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#fce94f" />
                                            <path d="m225.55 363.96c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path transform="translate(164.91 163.85)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#ad7fa8" />
                                            <path d="m278.22 418.94c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path d="m166.06 368.37-11.721 1.0656-10.229 14.492 3.1966 13.639 18.754 9.1637 29.622-2.5573 40.278 18.967 47.95-15.131 36.634 10.567 41.625-7.4544 13.592-20.375-0.63933-11.721-6.6064-10.229-10.869-1.918 9.9194 17.624-13.745 17.01-29.33 5.1512-40.794-11.654-49.015 17.049-38.786-19.606-25.573 2.5573-15.344-9.3768 11.082-17.262z" fill="#fcaf3e" />
                                            <path transform="translate(210.5 103.53)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#ef2929" />
                                            <path d="m323.81 358.62c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path transform="translate(206.66 43.01)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#ad7fa8" />
                                            <path d="m319.97 298.1c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path transform="translate(146.7 -12.069)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#fce94f" />
                                            <path d="m260.01 243.03c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path d="m355.73432,365.50647 1.03125,1.84375 9.625,17.0625-13.125,16.1875-28.71875,5.03125-40.5625-11.59375-.3125-.0937-.3125.125-48.625,16.90625-38.375-19.40625-.28125-.15625-.28125.0312-25.28125,2.53125-14.15625-8.65625 10.53125-16.40625 1.125-1.71875-2.03125.1875-11.75,1.0625-.4375.0312-.28125.375-10.21875,14.5-.25.375 .0937.4375 3.1875,13.625 .125.46875 .40625.21875 18.75,9.15625 .25.125 .28125-.0312 29.375-2.53125 40.03125,18.84375 .34375.15625 .375-.0937 47.625-15.0625 36.375,10.5 .21875.0625 .25-.0312 41.625-7.46875 .40625-.0625 .25-.375 13.5625-20.375 .1875-.28125v-.3125l-.65625-11.71875v-.28125l-.15625-.21875-6.59375-10.21875-.25-.375-.40625-.0625-10.875-1.9375-2.09375-.375zm3.8125,2.71875 8.34375,1.5 6.25,9.625 .59375,11.09375-13.15625,19.75-40.9375,7.34375-36.46875-10.5-.28125-.0625-.28125.0625-47.5625,15.03125-39.9375-18.8125-.25-.0937h-.25l-29.375,2.53125-18.0625-8.8125-3-12.75 9.71875-13.75 9.21875-.84375-9.96875,15.5625-.5625.84375 .875.53125 15.34375,9.375 .28125.1875 .34375-.0312 25.28125-2.53125 38.53125,19.46875 .375.1875 .40625-.125 48.6875-16.9375 40.5,11.5625 .21875.0625 .25-.0625 29.3125-5.125 .375-.0937 .25-.28125 13.71875-17 .4375-.53125-.34375-.59375-8.875-15.78125z" />
                                            <path d="m203.57 259.47-17.475 10.016-2.9835 13 16.196 11.082 27.588-4.1115 39.203 14.496 39.124-15.779 26.639 4.116 11.721-10.016-6.6064-11.508-14.705-6.6064 9.9796 16.81-28.52-3.227-38.485 14.511-36.881-13.293-26.439 4.3376-8.7224-5.754 10.365-18.073z" fill="#fcaf3e" />
                                            <path d="m206.27 256.76-3.1875 1.8438-17.469 10-0.40625 0.21875-0.0937 0.4375-2.9688 13-0.15625 0.65625 0.5625 0.40625 16.188 11.062 0.34375 0.21875 0.375-0.0312 27.344-4.0938 38.938 14.406 0.375 0.125 0.375-0.125 38.875-15.688 26.344 4.0938 0.46875 0.0625 0.34375-0.3125 11.719-10 0.625-0.53125-0.40625-0.75-6.625-11.5-0.15625-0.28125-0.28125-0.125-14.719-6.5938-2.875-1.3125 1.625 2.7188 8.9375 15.094-26.531-3-0.21875-0.0312-0.21875 0.0625-38.156 14.406-36.531-13.188-0.25-0.0937-0.25 0.0625-26 4.2812-7.6562-5.0312 9.875-17.25 1.8438-3.2188zm-5.375 5.4062-8.5625 14.875-0.46875 0.8125 0.78125 0.53125 8.7188 5.75 0.34375 0.21875 0.375-0.0625 26.156-4.3125 36.656 13.219 0.375 0.125 0.34375-0.125 38.219-14.438 28.312 3.1875 2 0.25-1.0312-1.75-8.3438-14.062 11.5 5.125 6.0312 10.531-10.719 9.1875-26.219-4.0312-0.25-0.0625-0.25 0.125-38.781 15.625-38.844-14.375-0.25-0.0937-0.25 0.0625-27.188 4.0312-15.312-10.469 2.75-11.906 13.906-7.9688z" />
                                            <path transform="translate(236.87 176.79)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#729fcf" />
                                            <path d="m350.18 431.89c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                            <path d="m228.29 169.11-13.639 2.5573-5.9671 16.196 18.603 10.733 32.543-5.5667 28.983 5.5667 18.754-10.733 1.7049-15.344-17.101-7.9216 4.3139 17.298-19.206 6.4664-55.809-1.3518-1.2572-5.1619 8.0768-12.739z" fill="#fcaf3e" />
                                            <path d="m290.70307,162.81897 .5,2.03125 4.09375,16.375-18.15625,6.125-54.875-1.3125-1-4.03125 7.875-12.375 1.21875-1.9375-2.25.4375-13.65625,2.5625-.53125.0937-.21875.53125-5.96875,16.1875-.28125.8125 .71875.40625 18.625,10.75 .3125.15625 .34375-.0625 32.34375-5.53125 28.8125,5.53125 .375.0625 .3125-.15625 18.75-10.75 .46875-.25 .0312-.5 1.71875-15.34375 .0625-.71875-.625-.3125-17.125-7.90625-1.875-.875zm2.9375,3.5625 14.5625,6.71875-1.5625,14.15625-17.96875,10.28125-28.65625-5.5-.1875-.0312-.15625.0312-32.1875,5.5-17.59375-10.125 5.46875-14.84375 10.84375-2.03125-6.84375,10.78125-.21875.34375 .0937.40625 1.25,5.1875 .1875.71875 .78125.0312 55.8125,1.34375h.15625l.1875-.0312 19.1875-6.46875 .875-.3125-.21875-.875-3.8125-15.28125z" />
                                            <path transform="translate(101.14 43.068)" d="m127.79 271.06c0 7.9896-6.4768 14.466-14.466 14.466s-14.466-6.4768-14.466-14.466 6.4768-14.466 14.466-14.466 14.466 6.4768 14.466 14.466z" fill="#729fcf" />
                                            <path d="m214.46 298.16c-8.8002 0-15.969 7.1685-15.969 15.969s7.1685 15.969 15.969 15.969 15.969-7.1685 15.969-15.969-7.1685-15.969-15.969-15.969zm0 3c7.1789 0 12.969 5.7898 12.969 12.969s-5.7898 12.969-12.969 12.969-12.969-5.7898-12.969-12.969 5.7898-12.969 12.969-12.969z" />
                                        </g>
                                    </svg>
                                </div>

                            </div>

                            <div className='col' style={{
                                display: navigating ? 'none' : '',
                            }}>

                                <p>
                                    <b>Please note the office will be closed for the holidays on Dec 23 and re-opening Jan 3.</b>
                                </p>
                                <p>
                                    <b>You can still create and submit your file in the meantime!</b>
                                </p>
                            </div>
                        </div>

                    </div>
                    <div className="modal-footer">
                        <div style={{
                            visibility: navigating ? 'hidden' : 'visible',
                        }}>

                            <ModalBottomButtons
                                visibility={navigating ? 'HIDDEN' : 'VISIBLE'}
                                leftButtonText='Go back to DBM homepage'
                                leftButtonClicked={() => {
                                    setNavigating(true);
                                    setTimeout(() => {
                                        window.location.href = 'https://dbmlaw.ca';
                                    }, 250);
                                }}
                                rightButtonText='Continue with creating file'
                                rightButtonClicked={() => {
                                    props.dismissed();
                                }}
                            />


                        </div>
                    </div>
                </div>
            </div>
        </div>
    )
};

export default IntroForm;